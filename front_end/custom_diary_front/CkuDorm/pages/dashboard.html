<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>기숙사 관리 시스템</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css" rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com/3.4.16"></script>
    <link rel="stylesheet" href="../assets/css/style.css">
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: { primary: "#006272", secondary: "#4A8B94" },
            borderRadius: {
              none: "0px",
              sm: "4px",
              DEFAULT: "8px",
              md: "12px",
              lg: "16px",
              xl: "20px",
              "2xl": "24px",
              "3xl": "32px",
              full: "9999px",
              button: "8px",
            },
          },
        },
      };
    </script>
  </head>
  <body>
    <div class="flex h-screen bg-gray-50">
      <!-- Sidebar -->
      <aside class="sidebar">
        <div class="sidebar-header flex flex-col items-center">
          <img src="../assets/images/cku_logo.png" alt="CKU 로고" class="w-20 mb-2" />
          <h1 class="sidebar-logo text-2xl">CkuDorm</h1>
        </div>
        <nav class="p-4">
          <div class="nav-section-title">메인</div>
          <a href="#" class="nav-link active">
            <i class="ri-dashboard-line mr-3"></i>
            <span>대시보드</span>
          </a>
          <a href="#" class="nav-link">
            <i class="ri-user-line mr-3"></i>
            <span>학생 관리</span>
          </a>

          <div class="nav-section-title">요청</div>
          <a href="#" class="nav-link">
            <i class="ri-home-4-line mr-3"></i>
            <span>외박 신청</span>
          </a>
          <a href="#" class="nav-link">
            <i class="ri-tools-line mr-3"></i>
            <span>시설 수리</span>
          </a>
          <a href="#" class="nav-link">
            <i class="ri-exchange-box-line mr-3"></i>
            <span>호실 변경</span>
          </a>
          <a href="#" class="nav-link">
            <i class="ri-logout-box-line mr-3"></i>
            <span>퇴사 신청</span>
          </a>

          <div class="nav-section-title">관리</div>
          <a href="#" class="nav-link">
            <i class="ri-award-line mr-3"></i>
            <span>상벌점</span>
          </a>
          <a href="#" class="nav-link">
            <i class="ri-question-line mr-3"></i>
            <span>문의사항</span>
          </a>
          <a href="#" class="nav-link">
            <i class="ri-notification-3-line mr-3"></i>
            <span>공지사항</span>
          </a>
          <a href="#" class="nav-link">
            <i class="ri-restaurant-line mr-3"></i>
            <span>식당 관리</span>
          </a>
        </nav>
      </aside>

      <!-- Main Content -->
      <main class="content flex-1 p-8">
        <div class="flex justify-between items-center mb-8">
          <h1 class="text-2xl font-bold text-gray-800">대시보드</h1>
          <div class="flex items-center space-x-4">
            <div class="relative w-64">
              <input
                type="text"
                placeholder="검색..."
                class="search-input pl-12 pr-4 h-11 rounded-lg border border-gray-200 focus:outline-none focus:border-primary w-full placeholder:pl-8"
                autocomplete="off"
                style="line-height: normal;"
              />
              <span class="absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg pointer-events-none">
                <i class="ri-search-line"></i>
              </span>
            </div>
            <button class="notification-button p-2 rounded-lg hover:bg-gray-100">
              <i class="ri-notification-3-line text-xl text-gray-600"></i>
            </button>
          </div>
        </div>

        <!-- Stats Cards -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
          <div class="stat-card bg-white p-6 rounded-lg shadow-sm">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-sm text-gray-500">전체 학생</p>
                <h3 class="text-2xl font-bold text-gray-800">2,451</h3>
              </div>
              <div class="p-3 bg-blue-50 rounded-full">
                <i class="ri-user-line text-xl text-blue-500"></i>
              </div>
            </div>
          </div>
          <div class="stat-card bg-white p-6 rounded-lg shadow-sm">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-sm text-gray-500">대기 중인 요청</p>
                <h3 class="text-2xl font-bold text-gray-800">24</h3>
              </div>
              <div class="p-3 bg-yellow-50 rounded-full">
                <i class="ri-time-line text-xl text-yellow-500"></i>
              </div>
            </div>
          </div>
          <div class="stat-card bg-white p-6 rounded-lg shadow-sm">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-sm text-gray-500">유지보수 이슈</p>
                <h3 class="text-2xl font-bold text-gray-800">12</h3>
              </div>
              <div class="p-3 bg-red-50 rounded-full">
                <i class="ri-tools-line text-xl text-red-500"></i>
              </div>
            </div>
          </div>
        </div>

        <!-- Main Content Area -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
          <!-- 왼쪽 2/3: 최근 요청 + 최근 처리된 요청 -->
          <div class="lg:col-span-2 flex flex-col gap-8">
            <!-- 최근 요청 -->
            <div class="bg-white rounded-lg shadow-sm p-6">
              <div class="flex justify-between items-center mb-6">
                <h2 class="text-lg font-semibold text-gray-800">최근 요청</h2>
                <div class="flex space-x-2">
                  <button class="tab-button active px-4 py-2 rounded-lg" data-tab="all">전체</button>
                  <button class="tab-button px-4 py-2 rounded-lg" data-tab="pending">대기중</button>
                  <button class="tab-button px-4 py-2 rounded-lg" data-tab="approved">승인됨</button>
                </div>
              </div>
              <div class="overflow-x-auto">
                <table class="requests-table">
                  <thead>
                    <tr>
                      <th>학생</th>
                      <th>유형</th>
                      <th>날짜</th>
                      <th>상태</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td class="flex items-center">
                        <img src="https://i.pravatar.cc/40?img=1" alt="학생" class="w-8 h-8 rounded-full mr-3" />
                        <div>
                          <p class="font-medium text-gray-800">홍길동</p>
                          <p class="text-sm text-gray-500">101호</p>
                        </div>
                      </td>
                      <td>외박</td>
                      <td>2024-02-20</td>
                      <td class="flex justify-center items-center">
                        <button class="px-3 py-1 text-white rounded mr-2 approve-btn" style="background-color: #006272;">승인</button>
                        <button class="px-3 py-1 text-white rounded reject-btn" style="background-color: #FF6F61;">거절</button>
                      </td>
                    </tr>
                    <tr>
                      <td class="flex items-center">
                        <img src="https://i.pravatar.cc/40?img=2" alt="학생" class="w-8 h-8 rounded-full mr-3" />
                        <div>
                          <p class="font-medium text-gray-800">김철수</p>
                          <p class="text-sm text-gray-500">203호</p>
                        </div>
                      </td>
                      <td>수리</td>
                      <td>2024-02-19</td>
                      <td class="flex justify-center items-center">
                        <button class="px-3 py-1 text-white rounded mr-2 approve-btn" style="background-color: #006272;">승인</button>
                        <button class="px-3 py-1 text-white rounded reject-btn" style="background-color: #FF6F61;">거절</button>
                      </td>
                    </tr>
                    <tr>
                      <td class="flex items-center">
                        <img src="https://i.pravatar.cc/40?img=3" alt="학생" class="w-8 h-8 rounded-full mr-3" />
                        <div>
                          <p class="font-medium text-gray-800">이영희</p>
                          <p class="text-sm text-gray-500">305호</p>
                        </div>
                      </td>
                      <td>호실 변경</td>
                      <td>2024-02-18</td>
                      <td class="flex justify-center items-center">
                        <button class="px-3 py-1 text-white rounded mr-2 approve-btn" style="background-color: #006272;">승인</button>
                        <button class="px-3 py-1 text-white rounded reject-btn" style="background-color: #FF6F61;">거절</button>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <!-- 최근 처리된 요청 -->
            <div class="bg-white rounded-lg shadow-sm p-6">
              <h2 class="text-lg font-semibold text-gray-800 mb-6">최근 처리된 요청</h2>
              <ul class="space-y-4">
                <li class="flex items-center justify-between">
                  <div class="flex items-center">
                    <img src="https://i.pravatar.cc/40?img=4" alt="학생" class="w-8 h-8 rounded-full mr-3" />
                    <div>
                      <p class="font-medium text-gray-800">박민수</p>
                      <p class="text-sm text-gray-500">외박 - 2024-02-17</p>
                    </div>
                  </div>
                  <span class="status-badge approved">승인됨</span>
                </li>
                <li class="flex items-center justify-between">
                  <div class="flex items-center">
                    <img src="https://i.pravatar.cc/40?img=5" alt="학생" class="w-8 h-8 rounded-full mr-3" />
                    <div>
                      <p class="font-medium text-gray-800">최지우</p>
                      <p class="text-sm text-gray-500">수리 - 2024-02-16</p>
                    </div>
                  </div>
                  <span class="status-badge urgent">거절됨</span>
                </li>
                <li class="flex items-center justify-between">
                  <div class="flex items-center">
                    <img src="https://i.pravatar.cc/40?img=6" alt="학생" class="w-8 h-8 rounded-full mr-3" />
                    <div>
                      <p class="font-medium text-gray-800">한서연</p>
                      <p class="text-sm text-gray-500">호실 변경 - 2024-02-15</p>
                    </div>
                  </div>
                  <span class="status-badge approved">승인됨</span>
                </li>
              </ul>
            </div>
          </div>
          <!-- 오른쪽 1/3: 최근 활동 -->
          <div class="lg:col-span-1">
            <div class="bg-white rounded-lg shadow-sm p-6">
              <h2 class="text-lg font-semibold text-gray-800 mb-6">최근 활동</h2>
              <div class="activity-timeline">
                <div class="timeline-line"></div>
                <div class="timeline-item">
                  <div class="timeline-icon bg-blue-50">
                    <i class="ri-user-add-line text-blue-500"></i>
                  </div>
                  <div>
                    <p class="text-sm font-medium text-gray-800">신규 학생 입사</p>
                    <p class="text-xs text-gray-500">101호 - 2시간 전</p>
                  </div>
                </div>
                <div class="timeline-item">
                  <div class="timeline-icon bg-green-50">
                    <i class="ri-check-line text-green-500"></i>
                  </div>
                  <div>
                    <p class="text-sm font-medium text-gray-800">시설 수리 완료</p>
                    <p class="text-xs text-gray-500">203호 - 3시간 전</p>
                  </div>
                </div>
                <div class="timeline-item">
                  <div class="timeline-icon bg-yellow-50">
                    <i class="ri-notification-3-line text-yellow-500"></i>
                  </div>
                  <div>
                    <p class="text-sm font-medium text-gray-800">새 공지사항 등록</p>
                    <p class="text-xs text-gray-500">4시간 전</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>

    <!-- 알림 오버레이 -->
    <div id="notificationPopover" class="absolute right-0 mt-2 mr-2 w-72 bg-white rounded-lg shadow-lg border border-gray-200 z-50 hidden">
      <div class="flex flex-col items-center p-6">
        <i class="ri-notification-3-line text-3xl text-gray-400 mb-2"></i>
        <p class="text-gray-700 text-base font-semibold mb-1">새로운 알림이 없습니다</p>
      </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.5.0/echarts.min.js"></script>
    <script type="module" src="../assets/js/main.js"></script>
  </body>
</html> 